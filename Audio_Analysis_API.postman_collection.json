{
  "info": {
    "_postman_id": "audio-analysis-api",
    "name": "Audio Analysis Backend API",
    "description": "Complete API collection for Audio Analysis System Backend Generated: February 6, 2026",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "basic"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"admin\", \"password\": \"password\", \"division\": \"Headquarters\"}"
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": ["{{base_url}}"],
              "path": ["login"]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/logout",
              "host": ["{{base_url}}"],
              "path": ["logout"]
            }
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/me",
              "host": ["{{base_url}}"],
              "path": ["me"]
            }
          }
        }
      ]
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"newuser\", \"password\": \"password123\", \"division\": \"Headquarters\"}"
            },
            "url": {
              "raw": "{{base_url}}/create-user",
              "host": ["{{base_url}}"],
              "path": ["create-user"]
            }
          }
        },
        {
          "name": "List All Users",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/list-users",
              "host": ["{{base_url}}"],
              "path": ["list-users"]
            }
          }
        },
        {
          "name": "Get All Users (Detailed)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/users",
              "host": ["{{base_url}}"],
              "path": ["users"]
            }
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{base_url}}/delete-user/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["delete-user", "{{user_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Files",
      "item": [
        {
          "name": "Get All Files",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/files",
              "host": ["{{base_url}}"],
              "path": ["files"]
            }
          }
        },
        {
          "name": "Get Database Files",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/database-files?division=Headquarters",
              "host": ["{{base_url}}"],
              "path": ["database-files"],
              "query": [
                {
                  "key": "division",
                  "value": "Headquarters"
                }
              ]
            }
          }
        },
        {
          "name": "Get File Content from S3",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/file-content?filename=example.csv",
              "host": ["{{base_url}}"],
              "path": ["file-content"],
              "query": [
                {
                  "key": "filename",
                  "value": "example.csv"
                }
              ]
            }
          }
        },
        {
          "name": "Get File Content from Database",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/database-file-content?file_id=1&page=1&per_page=50",
              "host": ["{{base_url}}"],
              "path": ["database-file-content"],
              "query": [
                {
                  "key": "file_id",
                  "value": "1"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "per_page",
                  "value": "50"
                }
              ]
            }
          }
        },
        {
          "name": "Get Combined Files",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/combined-files",
              "host": ["{{base_url}}"],
              "path": ["combined-files"]
            }
          }
        },
        {
          "name": "Get Combined File Content",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/combined-file-content?file_ids=1,2,3",
              "host": ["{{base_url}}"],
              "path": ["combined-file-content"],
              "query": [
                {
                  "key": "file_ids",
                  "value": "1,2,3"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Transcripts & Search",
      "item": [
        {
          "name": "Search Transcripts",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/transcripts/search?keyword=safety&division=Headquarters&page=1&limit=50",
              "host": ["{{base_url}}"],
              "path": ["transcripts", "search"],
              "query": [
                {
                  "key": "keyword",
                  "value": "safety"
                },
                {
                  "key": "division",
                  "value": "Headquarters"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            }
          }
        },
        {
          "name": "Get Transcript KPI",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/transcript-kpi?division=Headquarters&start_date=2024-01-01&end_date=2024-12-31",
              "host": ["{{base_url}}"],
              "path": ["transcript-kpi"],
              "query": [
                {
                  "key": "division",
                  "value": "Headquarters"
                },
                {
                  "key": "start_date",
                  "value": "2024-01-01"
                },
                {
                  "key": "end_date",
                  "value": "2024-12-31"
                }
              ]
            }
          }
        },
        {
          "name": "Violation Analysis",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/violation-analysis?division=Headquarters",
              "host": ["{{base_url}}"],
              "path": ["violation-analysis"],
              "query": [
                {
                  "key": "division",
                  "value": "Headquarters"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Divisions",
      "item": [
        {
          "name": "Create Division",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"division_name\": \"New Division\", \"description\": \"Description here\"}"
            },
            "url": {
              "raw": "{{base_url}}/create-division",
              "host": ["{{base_url}}"],
              "path": ["create-division"]
            }
          }
        },
        {
          "name": "List Divisions",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/list-divisions",
              "host": ["{{base_url}}"],
              "path": ["list-divisions"]
            }
          }
        },
        {
          "name": "Delete Division",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{base_url}}/delete-division/{{division_id}}",
              "host": ["{{base_url}}"],
              "path": ["delete-division", "{{division_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Dashboard & Analytics",
      "item": [
        {
          "name": "Get Dashboard Data",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/dashboard-data?division=Headquarters&start_date=2024-01-01",
              "host": ["{{base_url}}"],
              "path": ["dashboard-data"],
              "query": [
                {
                  "key": "division",
                  "value": "Headquarters"
                },
                {
                  "key": "start_date",
                  "value": "2024-01-01"
                }
              ]
            }
          }
        },
        {
          "name": "Get Database Statistics",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/database-stats",
              "host": ["{{base_url}}"],
              "path": ["database-stats"]
            }
          }
        },
        {
          "name": "Get File Counts Summary (Admin)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/admin/file-counts-summary?division=Headquarters",
              "host": ["{{base_url}}"],
              "path": ["admin", "file-counts-summary"],
              "query": [
                {
                  "key": "division",
                  "value": "Headquarters"
                }
              ]
            }
          }
        },
        {
          "name": "Get Real-Time File Counts (Admin)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/admin/real-time-file-counts",
              "host": ["{{base_url}}"],
              "path": ["admin", "real-time-file-counts"]
            }
          }
        }
      ]
    },
    {
      "name": "Keywords",
      "item": [
        {
          "name": "Get Keywords",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/keywords",
              "host": ["{{base_url}}"],
              "path": ["keywords"]
            }
          }
        },
        {
          "name": "Add Keyword",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"keyword\": \"safety\", \"category\": \"violation\", \"is_active\": true}"
            },
            "url": {
              "raw": "{{base_url}}/keywords/add",
              "host": ["{{base_url}}"],
              "path": ["keywords", "add"]
            }
          }
        },
        {
          "name": "Update Keyword",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"keyword_id\": 1, \"keyword\": \"safety\", \"category\": \"violation\", \"is_active\": true}"
            },
            "url": {
              "raw": "{{base_url}}/keywords/update",
              "host": ["{{base_url}}"],
              "path": ["keywords", "update"]
            }
          }
        }
      ]
    },
    {
      "name": "Upload & Sync",
      "item": [
        {
          "name": "Upload Audio File",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "path/to/audio/file.wav"
                },
                {
                  "key": "division",
                  "value": "Headquarters",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/upload-audio",
              "host": ["{{base_url}}"],
              "path": ["upload-audio"]
            }
          }
        },
        {
          "name": "Upload Audio with Metadata",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "path/to/audio/file.wav"
                },
                {
                  "key": "division",
                  "value": "Headquarters",
                  "type": "text"
                },
                {
                  "key": "train_number",
                  "value": "12345",
                  "type": "text"
                },
                {
                  "key": "loco_number",
                  "value": "67890",
                  "type": "text"
                },
                {
                  "key": "loco_pilot",
                  "value": "John Doe",
                  "type": "text"
                },
                {
                  "key": "section",
                  "value": "North",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/upload-audio-with-metadata",
              "host": ["{{base_url}}"],
              "path": ["upload-audio-with-metadata"]
            }
          }
        },
        {
          "name": "Sync S3 to Database",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"division\": \"Headquarters\"}"
            },
            "url": {
              "raw": "{{base_url}}/sync-s3-to-database",
              "host": ["{{base_url}}"],
              "path": ["sync-s3-to-database"]
            }
          }
        },
        {
          "name": "Start Auto-Sync",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/auto-sync/start",
              "host": ["{{base_url}}"],
              "path": ["auto-sync", "start"]
            }
          }
        },
        {
          "name": "Stop Auto-Sync",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/auto-sync/stop",
              "host": ["{{base_url}}"],
              "path": ["auto-sync", "stop"]
            }
          }
        },
        {
          "name": "Get Auto-Sync Status",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/auto-sync/status",
              "host": ["{{base_url}}"],
              "path": ["auto-sync", "status"]
            }
          }
        },
        {
          "name": "Initialize Database",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/initialize-database",
              "host": ["{{base_url}}"],
              "path": ["initialize-database"]
            }
          }
        },
        {
          "name": "Fix Audio URLs",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/fix-audio-urls",
              "host": ["{{base_url}}"],
              "path": ["fix-audio-urls"]
            }
          }
        },
        {
          "name": "Migrate Database",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/migrate-database",
              "host": ["{{base_url}}"],
              "path": ["migrate-database"]
            }
          }
        },
        {
          "name": "Get Ingestion Status",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/ingestion/status",
              "host": ["{{base_url}}"],
              "path": ["ingestion", "status"]
            }
          }
        }
      ]
    },
    {
      "name": "Data & Dropdowns",
      "item": [
        {
          "name": "Get LP/ALP/Section Data",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/lp-alp-section-data?division=Headquarters",
              "host": ["{{base_url}}"],
              "path": ["lp-alp-section-data"],
              "query": [
                {
                  "key": "division",
                  "value": "Headquarters"
                }
              ]
            }
          }
        },
        {
          "name": "Get LP/ALP/Section Combinations",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/lp-alp-section-combinations",
              "host": ["{{base_url}}"],
              "path": ["lp-alp-section-combinations"]
            }
          }
        },
        {
          "name": "Get New Dropdown Data",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/new-dropdown-data",
              "host": ["{{base_url}}"],
              "path": ["new-dropdown-data"]
            }
          }
        },
        {
          "name": "Get Upload History",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/upload-history?limit=50",
              "host": ["{{base_url}}"],
              "path": ["upload-history"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            }
          }
        },
        {
          "name": "Get User Division",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/user-division",
              "host": ["{{base_url}}"],
              "path": ["user-division"]
            }
          }
        }
      ]
    },
    {
      "name": "Audio & Utilities",
      "item": [
        {
          "name": "Get Audio File",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/audio-file?file_id=1",
              "host": ["{{base_url}}"],
              "path": ["audio-file"],
              "query": [
                {
                  "key": "file_id",
                  "value": "1"
                }
              ]
            }
          }
        },
        {
          "name": "Get Loco Pilot Files",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/lp-files/John%20Doe?division=Headquarters",
              "host": ["{{base_url}}"],
              "path": ["lp-files", "John Doe"],
              "query": [
                {
                  "key": "division",
                  "value": "Headquarters"
                }
              ]
            }
          }
        },
        {
          "name": "Test Parsing",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/test-parsing?filename=Headquarters_20240101120000-Train-12345-Loco-67890-LP-John_Doe-Designation-Pilot-ALP-Jane_Smith-HQ-HQ1-Section-North.csv",
              "host": ["{{base_url}}"],
              "path": ["test-parsing"],
              "query": [
                {
                  "key": "filename",
                  "value": "Headquarters_20240101120000-Train-12345-Loco-67890-LP-John_Doe-Designation-Pilot-ALP-Jane_Smith-HQ-HQ1-Section-North.csv"
                }
              ]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "division_id",
      "value": "1",
      "type": "string"
    }
  ]
}
